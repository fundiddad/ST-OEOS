
> start
  storage.clear
  storage.set key: "obedience" value: 0
  storage.set key: "defiance" value: 0
  storage.set key: "favor" value: 0
  audio.play "https://cdn.pixabay.com/audio/2024/10/07/audio_5dbdeb2487.mp3" id: "ambience" loops: 0 background: true volume: 0.4
  image "https://cdni.pornpics.com/1280/1/297/14285021/14285021_002_17e5.jpg"
  say "你跪在冰冷的地板上，面前是维罗妮卡女主人。她的目光既严厉又充满期待。"
  say "“从今天起，你将是我的财产。你不再有名字，直到我赐予你一个。”"
  say "“现在，告诉我，我该如何称呼你，我的宠物？”"
  prompt var: "slaveName"
  storage.set key: "slaveName" value: $slaveName
  say "“很好，<eval>storage.get('slaveName')</eval>。一个不错的名字...暂时用着吧。”"
  notification.create id: "main_rule" label: "首要规则：取悦主人" button: "铭记于心"
    commands
      say "你的每一个选择都将被观察和评判。"
  goto "first_trial"

> first_trial
  say "“你的第一个任务，” 女主人说着，优雅地伸出她穿着高跟鞋的脚。“擦亮我的靴子，直到能映出你的脸。”"
  choice
    "“是，我的女主人。” (立即顺从地开始)"
      eval code: "Storage.set('obedience', Storage.get('obedience') + 2); Storage.set('favor', Storage.get('favor') + 1);"
      say "你谦卑地开始工作，每一个动作都小心翼翼。女主人发出一声满意的哼声。"
      goto "second_trial_hub"
    "犹豫片刻"
      eval code: "Storage.set('defiance', Storage.get('defiance') + 1);"
      say "“怎么了？” 她的声音变冷了。“你在质疑我的命令吗？”"
      goto "punishment_hesitation"

> punishment_hesitation
  say "“对于犹豫不决的惩罚...你将在这里跪着反省，直到我满意为止。”"
  timer duration: "15s" style: "text" id: "punishment_timer"
  say "冰冷的感觉从你的膝盖传来。你学会了不该挑战她的耐心。"
  goto "second_trial_hub"

> second_trial_hub
  say "“下一个任务。我需要一杯酒。”"
  choice
    "前往酒窖" -> goto "wine_cellar"
    "询问女主人的喜好"
      if Storage.get('favor') > 0
        eval code: "Storage.set('favor', Storage.get('favor') + 1);"
        say "“哦？你竟然想到了这一层。很好。我喜欢来自‘猩红山谷’的年份。”"
        storage.set key: "knows_preference" value: true
        goto "wine_cellar"
      else
        say "“放肆！谁允许你提问的？去拿就是了！”"
        goto "wine_cellar"

> wine_cellar
  say "酒窖里排列着数百瓶酒。时间紧迫，女主人不喜欢等待。"
  timer id: "wine_timer" duration: "20s" style: "bar"
    goto "ending_failure_slow"
  if Storage.get('knows_preference') === true
    goto "wine_cellar_knows_preference"
  else
    goto "wine_cellar_does_not_know"

> wine_cellar_knows_preference
  choice
    "寻找‘猩红山谷’"
      timer.remove "wine_timer"
      say "你迅速找到了那瓶酒，完美地完成了任务。"
      eval code: "Storage.set('obedience', Storage.get('obedience') + 2); Storage.set('favor', Storage.get('favor') + 2);"
      goto "final_test_prep"

> wine_cellar_does_not_know
  choice
    "随便拿一瓶红酒"
      timer.remove "wine_timer"
      say "你选了一瓶看起来很昂贵的酒。"
      goto "final_test_prep"
    "拿一瓶白酒"
      timer.remove "wine_timer"
      say "你选了一瓶冰镇的白酒。"
      storage.set key: "wrong_wine" value: true
      goto "final_test_prep"

> final_test_prep
  if Storage.get('wrong_wine') === true
    say "“白酒？你是在侮辱我的品味吗？”女主人的脸阴沉了下来。"
    eval code: "Storage.set('favor', Storage.get('favor') - 2); Storage.set('defiance', Storage.get('defiance') + 1);"
  else
    say "女主人接过酒杯，满意地抿了一口。"
  say "“现在，是最后的考验了，<eval>Storage.get('slaveName')</eval>。”"
  goto "final_test"

> final_test
  say "“你表现得不错...或者说，非常差劲。”她的评价取决于你之前的行为。"
  say "“看着我，<eval>Storage.get('slaveName')</eval>。告诉我，你学到了什么？”"
  prompt var: "final_answer"
  if Storage.get('obedience') > Storage.get('defiance') && Storage.get('favor') > 2
    goto "ending_perfect_pet"
  else if Storage.get('defiance') > Storage.get('obedience')
    goto "ending_defiant_one"
  else
    goto "ending_mediocre"

> ending_perfect_pet
  image "https://cdni.pornpics.com/1280/1/297/14285021/14285021_002_17e5.jpg"
  say "【完美服从结局】“你学得很快，我的宠物。”女主人微笑着，声音中带着一丝真正的暖意。“你证明了你的价值。从今晚起，你将睡在我的房间里。”"
  say "你赢得了她的青睐，成为了她最珍爱的所有物。这是你所能期望的最高荣耀。"
  end

> ending_defiant_one
  image "https://cdni.pornpics.com/1280/1/297/14285021/14285021_002_17e5.jpg"
  say "【叛逆顽固结局】“冥顽不灵。”她冷冷地宣判。“看来你需要更多时间来学习最基本的礼仪。”"
  say "你被拖入了最深处的地牢。在这里，你将有无尽的时间来思考你的错误，直到你的反抗之心被彻底磨灭。"
  end

> ending_mediocre
  say "【平庸之物结局】“不好不坏。你只是个普通的工具，仅此而已。”她挥了挥手，眼中没有丝毫波澜。"
  say "你被指派去做最乏味的杂务。你没有赢得她的青睐，也没能激起她的怒火。你只是一个被遗忘在角落的影子。"
  end

> ending_failure_slow
  say "【无能失败结局】“连这点小事都做不好...我没有时间浪费在无能的废物身上。”"
  say "你甚至没来得及看清她的动作，就被卫兵架了出去，扔到了庄园之外。你的服务到此结束。"
  end